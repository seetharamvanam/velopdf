/* Refined navbar styles (uses design tokens) */
.navbar {
  width: 100%;
  background: linear-gradient(180deg, rgba(15,23,36,0.6), rgba(10,14,24,0.6));
  color: var(--text);
  position: sticky;
  top: 0;
  z-index: 60;
  backdrop-filter: blur(6px);
  box-shadow: var(--shadow-1);
}

.nav-inner {
  max-width: 1100px;
  margin: 0 auto;
  padding: 0.85rem 1rem;
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: space-between;
}

.brand {
  display: inline-flex;
  gap: 0.6rem;
  align-items: center;
  color: inherit;
  text-decoration: none;
}
.brand-icon { width: 28px; height: 28px; color: var(--accent) }
.brand-text { font-weight: 700; letter-spacing: 0.2px }

.nav-links {
  display: flex;
  gap: 1rem;
  align-items: center;
}

.nav-link {
  color: rgba(255,255,255,0.88);
  text-decoration: none;
  padding: 0.5rem 0.65rem;
  border-radius: var(--radius-sm);
  transition: background-color 0.18s var(--ease), color 0.18s var(--ease), transform .12s var(--ease);
}
.nav-link:hover { background: rgba(255,255,255,0.03); transform: translateY(-1px) }
.nav-link[aria-current="page"], .nav-link.active {
  color: #071126;
  background: linear-gradient(90deg,var(--accent),var(--accent-2));
  font-weight: 600;
}

.nav-actions { display: flex; gap: 0.6rem; align-items: center }
.upload-btn {
  background: transparent;
  color: var(--text);
  border-radius: var(--radius-sm);
  padding: 0.45rem 0.8rem;
  cursor: pointer;
  border: 1px solid rgba(255,255,255,0.06);
}
.upload-btn:hover { border-color: rgba(255,255,255,0.12); transform: translateY(-1px) }

/* Mobile */
.menu-btn {
  display: none;
  background: transparent;
  border: none;
  padding: 0.45rem;
  border-radius: 6px;
  cursor: pointer;
  color: inherit;
}
.menu-btn .hamburger {
  display: inline-block;
  width: 22px;
  height: 2px;
  background: currentColor;
  position: relative;
}
.menu-btn .hamburger::before,
.menu-btn .hamburger::after {
  content: '';
  position: absolute;
  left: 0;
  width: 22px;
  height: 2px;
  background: currentColor;
  transition: transform 0.18s;
}
.menu-btn .hamburger::before { top: -7px }
.menu-btn .hamburger::after { top: 7px }
.menu-btn.open .hamburger { background: transparent }
.menu-btn.open .hamburger::before { transform: translateY(7px) rotate(45deg) }
.menu-btn.open .hamburger::after { transform: translateY(-7px) rotate(-45deg) }

@media (max-width: 767px) {
  .menu-btn { display: inline-flex }
  .nav-links {
    position: absolute;
    top: calc(100% + 6px);
    left: 0;
    right: 0;
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 0.75rem 1rem;
    background: linear-gradient(180deg, rgba(10,12,16,0.98), rgba(6,8,12,0.98));
    transform-origin: top;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    box-shadow: 0 6px 20px rgba(0,0,0,0.35);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.25s ease;
  }

  .nav-links.open { max-height: 320px }
  .nav-link {
    display: block;
    padding: 0.6rem 0.8rem;
  }
}

/* Utility */
.sr-only {
  position: absolute !important;
  height: 1px; width: 1px; overflow: hidden;
  clip: rect(1px, 1px, 1px, 1px); white-space: nowrap;
}

.theme-toggle{
  display: inline-grid; place-items: center; width: 40px; height: 40px; border-radius: 10px; border: 1px solid rgba(255,255,255,0.06); background: transparent; color: var(--text); cursor: pointer; padding: 0; transition: transform .12s var(--ease), border-color .12s var(--ease), background .12s var(--ease);
}
.theme-toggle:hover{ transform: translateY(-2px); border-color: rgba(255,255,255,0.12) }
.theme-toggle .icon{ width: 18px; height: 18px; display: inline-block; transform-origin: center; transition: transform var(--motion-medium) var(--ease); color: inherit }

.theme-toggle.is-dark .icon{ transform: rotate(25deg) scale(1.02) }

[data-theme="light"] .theme-toggle{ border-color: rgba(10,10,10,0.06); color: var(--text); background: rgba(0,0,0,0.02) }
[data-theme="light"] .menu-btn .hamburger, [data-theme="light"] .nav-link{ color: rgba(10,10,10,0.8) }

/* make the upload icon visible and accentuated */
.upload-wrapper{ position: relative; display: inline-flex }
.upload-btn svg, .upload-btn .icon { color: var(--accent); fill: currentColor; transition: transform var(--motion-medium) var(--ease), filter var(--motion-medium) var(--ease) }
.upload-btn{ padding: 0.4rem .6rem }
.upload-btn:hover svg, .upload-btn:focus svg{ transform: translateY(-3px) scale(1.06); filter: drop-shadow(0 6px 18px rgba(124,58,237,0.18)) }
.upload-btn:active svg{ transform: scale(0.94) }

/* tooltip */
.tooltip{ position: absolute; left: 50%; transform: translateX(-50%) translateY(-8px); bottom: 100%; display: inline-block; padding: 0.4rem 0.55rem; background: rgba(10,10,10,0.9); color: #fff; border-radius: 6px; font-size: 0.8rem; opacity: 0; pointer-events: none; transition: opacity .18s var(--ease), transform .18s var(--ease) }
.upload-wrapper:focus-within .tooltip, .upload-wrapper:hover .tooltip{ opacity: 1; transform: translateX(-50%) translateY(-12px) }

/* ensure hover small pulse for discoverability */
@keyframes pulse {
  0%{ transform: scale(1) }
  50%{ transform: scale(1.06) }
  100%{ transform: scale(1) }
}
.upload-btn.pulse svg:hover{ animation: pulse 700ms var(--ease) }
@media (prefers-reduced-motion: reduce){
  .upload-btn svg, .upload-btn:hover svg{ animation: none; transform: none }
}

/* Light theme navbar tweaks */
[data-theme="light"] .navbar{
  background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(250,250,250,0.85));
  color: var(--text);
  backdrop-filter: blur(4px);
  box-shadow: var(--shadow-1);
  border-bottom: 1px solid rgba(16,24,40,0.04);
}
[data-theme="light"] .nav-link{ color: rgba(10,10,10,0.8) }
[data-theme="light"] .nav-link:hover{ background: rgba(10,10,10,0.04) }
[data-theme="light"] .nav-link[aria-current="page"], [data-theme="light"] .nav-link.active{ color: #fff; background: linear-gradient(90deg,var(--accent),var(--accent-2)); box-shadow: 0 8px 30px rgba(124,58,237,0.08) }
[data-theme="light"] .upload-btn{ border-color: rgba(10,10,10,0.06); color: rgba(10,10,10,0.85); background: rgba(255,255,255,0.9) }
[data-theme="light"] .nav-actions .theme-toggle{ background: rgba(255,255,255,0.9) }

/* ensure ghost buttons are readable in light mode */
[data-theme="light"] .btn.ghost{ background: rgba(255,255,255,0.9); color: var(--text); border-color: rgba(16,24,40,0.06) }
@media (max-width: 767px){
  [data-theme="light"] .nav-links { background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98)); border-bottom: 1px solid rgba(10,10,10,0.04); box-shadow: 0 6px 20px rgba(16,24,40,0.06); }
}

.nav-link:focus-visible, .menu-btn:focus-visible, .theme-toggle:focus-visible { outline: 3px solid rgba(124,58,237,0.16); outline-offset: 3px; border-radius: 10px }

